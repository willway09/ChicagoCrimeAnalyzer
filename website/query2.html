<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="CSS/DarkProfile.css">
  <title>Query 2</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
  <script>
    let graph = null;
    async function run() {

      const response = await fetch("/testdata.json", {
        method: "GET",
        mode: "cors",
        credentials: "same-origin",
        headers: {
          "Content-Type": "application/json"
        },
        redirect: "follow",
        referrerPolicy: "no-referrer"
      });

      let data = await response.json();

      graph.data.datasets.pop();
      graph.data.datasets.push(
              [{
                pointRadius: 4,
                pointBackgroundColor: "rgba(0, 0, 255, 1)",
                data: data
              }]
      );
      graph.update();
      console.log(graph);
    }

    async function main() {
      graph = new Chart("graph", {
        type: "scatter",
        data: {
          datasets: [{
            pointRadius: 4,
            pointBackgroundColor: "rgba(0, 0, 255, 1)",
            data: [{"x": 5, "y": 5}]
          }]
        },
        options: {}
      });
      console.log(graph)
    }

    window.onload = main;
  </script>
  <style>
  </style>
</head>
<body>
<section class="s1">
  <div class="main-container">
    <div class="greeting-wrapper">
      <h1>Crime data in the City of Chicago</h1>
    </div>
  </div>
</section>
<section class="s1">
  <div class="main-container">
    <h3 style="text-align: center;">Query 2: Population crime density exceeding specified crimes/person rate</h3>
    <div class="nav-wrapper">

      <ul id="navigation">
        <li><a href="home.html">Home</a></li>
      </ul>

    </div>

  </div>
</section>
<div style="display: flex; flex-direction: row;">
  <div style="flex: 1 1 0px;">
    <form action="javascript:void(0)">
      <label for="begin">Starting Month</label>
      <input id="begin" type="month"><br>

      <label for="end">Ending Month</label>
      <input id="end" type="month">


      <br><label for="M">M = Crime Rate Crimes/Person</label>
      <input id="M" type="range" min="0" max="100" value="0.0" oninput="change()"/>

      <script type="text/javascript">
        function change() {
          var value = document.getElementById("M").value;
          console.log(value / 100); // value / 100  = M
        }
      </script></br>



      <button onclick="run()">Submit</button>
    </form>
  </div>

  <div style="flex: 1 1 0px;">
    <canvas id="graph" style="width: 300px; height: 200px">
  </div>
</div>
</body>
</html>
